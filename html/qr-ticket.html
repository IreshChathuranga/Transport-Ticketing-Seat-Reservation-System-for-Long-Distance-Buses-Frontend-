<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Ticket - Bus Ticketing System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../css/qr-ticket.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="#"><i class="fas fa-bus me-2"></i>Bus Ticketing</a>
        <div class="navbar-nav ms-auto">
            <button class="btn btn-outline-light me-2" onclick="window.print()">
                <i class="fas fa-print me-1"></i>Print
            </button>
            <button class="btn btn-outline-light" id="downloadTicket">
                <i class="fas fa-download me-1"></i>Download
            </button>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- E-Ticket -->
            <div class="card ticket-card">
                <div class="ticket-header">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h3 class="text-white mb-1">
                                <i class="fas fa-bus me-2"></i>ABC Transport Express
                            </h3>
                            <p class="text-white-50 mb-0">Electronic Bus Ticket</p>
                        </div>
                        <div class="col-md-4 text-end">
                            <div class="ticket-status">
                                <span class="badge bg-success fs-6">CONFIRMED</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ticket-body">
                    <!-- Booking Information -->
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="info-section">
                                <h6 class="text-primary mb-3">Booking Details</h6>
                                <div class="info-item">
                                    <span class="label">Booking ID:</span>
                                    <span class="value">BK001234</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Booking Date:</span>
                                    <span class="value">March 12, 2024</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Payment Status:</span>
                                    <span class="value text-success">Paid</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-section">
                                <h6 class="text-primary mb-3">Passenger Details</h6>
                                <div class="info-item">
                                    <span class="label">Name:</span>
                                    <span class="value">John Doe</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Phone:</span>
                                    <span class="value">+94 77 123 4567</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Age:</span>
                                    <span class="value">28 years</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Journey Information -->
                    <div class="journey-section mb-4">
                        <h6 class="text-primary mb-3">Journey Information</h6>
                        <div class="journey-route">
                            <div class="row align-items-center">
                                <div class="col-md-4 text-center">
                                    <div class="location-info">
                                        <h4 class="mb-1">COLOMBO</h4>
                                        <p class="text-muted mb-1">Colombo Central Bus Stand</p>
                                        <div class="time-info">
                                            <h5 class="text-primary mb-0">08:30 AM</h5>
                                            <small class="text-muted">March 15, 2024</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 text-center">
                                    <div class="journey-line">
                                        <i class="fas fa-bus fa-2x text-primary"></i>
                                        <div class="line"></div>
                                        <small class="text-muted">3h 30m</small>
                                    </div>
                                </div>
                                <div class="col-md-4 text-center">
                                    <div class="location-info">
                                        <h4 class="mb-1">KANDY</h4>
                                        <p class="text-muted mb-1">Kandy Bus Terminal</p>
                                        <div class="time-info">
                                            <h5 class="text-primary mb-0">12:00 PM</h5>
                                            <small class="text-muted">March 15, 2024</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Seat and Fare Information -->
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="info-section">
                                <h6 class="text-primary mb-3">Seat Information</h6>
                                <div class="seat-display">
                                    <div class="seat-visual">
                                        <i class="fas fa-chair fa-3x text-primary"></i>
                                        <h3 class="mt-2 mb-0">B2</h3>
                                        <small class="text-muted">Window Seat</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-section">
                                <h6 class="text-primary mb-3">Fare Breakdown</h6>
                                <div class="fare-details">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Base Fare:</span>
                                        <span>Rs. 450</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Service Charge:</span>
                                        <span>Rs. 25</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Taxes:</span>
                                        <span>Rs. 25</span>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-between fw-bold fs-5">
                                        <span>Total Paid:</span>
                                        <span class="text-success">Rs. 500</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- QR Code Section -->
                    <div class="qr-section text-center">
                        <h6 class="text-primary mb-3">Scan QR Code for Verification</h6>
                        <div class="qr-code-container">
                            <div id="qrCode" class="qr-placeholder">
                                <!-- QR Code will be generated here -->
                                <div class="qr-mock">
                                    <div class="qr-pattern"></div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0">
                                <strong>Verification Code:</strong>
                                <span class="verification-code">BK001234-ABC-B2</span>
                            </p>
                        </div>
                    </div>

                    <!-- Important Instructions -->
                    <div class="instructions-section mt-4">
                        <h6 class="text-primary mb-3">Important Instructions</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="instruction-list">
                                    <li>Please arrive at the boarding point 15 minutes before departure</li>
                                    <li>Carry a valid ID proof along with this e-ticket</li>
                                    <li>Show this QR code to the conductor for verification</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="instruction-list">
                                    <li>Cancellation allowed up to 24 hours before departure</li>
                                    <li>Contact customer support for any assistance</li>
                                    <li>Keep this ticket safe until journey completion</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="contact-section mt-4 pt-3 border-top">
                        <div class="row text-center">
                            <div class="col-md-4">
                                <i class="fas fa-phone text-primary mb-2"></i>
                                <p class="mb-0"><strong>Customer Support</strong></p>
                                <p class="mb-0">+94 11 234 5678</p>
                            </div>
                            <div class="col-md-4">
                                <i class="fas fa-envelope text-primary mb-2"></i>
                                <p class="mb-0"><strong>Email Support</strong></p>
                                <p class="mb-0">support@abctransport.lk</p>
                            </div>
                            <div class="col-md-4">
                                <i class="fas fa-globe text-primary mb-2"></i>
                                <p class="mb-0"><strong>Website</strong></p>
                                <p class="mb-0">www.abctransport.lk</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ticket-footer">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <p class="text-white-50 mb-0">
                                <i class="fas fa-shield-alt me-2"></i>
                                This is a computer-generated ticket and does not require a signature.
                            </p>
                        </div>
                        <div class="col-md-4 text-end">
                            <p class="text-white-50 mb-0">
                                Generated on: March 12, 2024 at 10:30 AM
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="text-center mt-4">
                <button class="btn btn-primary me-3" id="trackBusBtn">
                    <i class="fas fa-map-marked-alt me-2"></i>Track Bus Live
                </button>
                <button class="btn btn-outline-primary me-3" id="shareTicket">
                    <i class="fas fa-share-alt me-2"></i>Share Ticket
                </button>
                <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#cancelModal">
                    <i class="fas fa-times me-2"></i>Cancel Booking
                </button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
<script src="js/qr-ticket.js"></script>
</body>
</html>
